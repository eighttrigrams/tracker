{:up ["CREATE TABLE relations (
         id INTEGER PRIMARY KEY AUTOINCREMENT,
         source_type TEXT NOT NULL,
         source_id INTEGER NOT NULL,
         target_type TEXT NOT NULL,
         target_id INTEGER NOT NULL,
         created_at DATETIME DEFAULT (datetime('now')),
         UNIQUE (source_type, source_id, target_type, target_id)
       )"
       "CREATE INDEX idx_relations_source ON relations (source_type, source_id)"
       "CREATE INDEX idx_relations_target ON relations (target_type, target_id)"]
 :down ["DROP INDEX IF EXISTS idx_relations_target"
        "DROP INDEX IF EXISTS idx_relations_source"
        "DROP TABLE IF EXISTS relations"]}
